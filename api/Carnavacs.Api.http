@Carnavacs.Api_HostAddress = http://localhost:5119
@prod = http://192.168.40.101

# API Key for simple authentication
@apiKey = 04577BA6-3E32-456C-B528-E41E20D28D78

# JWT Token - Copy from login response and paste here
@jwtToken = YOUR_JWT_TOKEN_HERE

# ============================================================================
# AUTHENTICATION ENDPOINTS
# ============================================================================

# Login - Get JWT authentication token
# @name login
POST {{Carnavacs.Api_HostAddress}}/Auth
Content-Type: application/json

{
  "username": "banco",
  "password": "banco"
}

###

# Login - Production
# @name loginProd
POST {{prod}}/Auth
Content-Type: application/json

{
  "username": "banco",
  "password": "banco"
}

###

# Logout
POST {{Carnavacs.Api_HostAddress}}/Auth/Logout?access_token={{jwtToken}}
Authorization: Bearer {{jwtToken}}

###

# Test authenticated endpoint with JWT Bearer token
GET {{Carnavacs.Api_HostAddress}}/Events/Current
Accept: application/json
Authorization: Bearer {{jwtToken}}

###

# Test authenticated endpoint with API Key
GET {{Carnavacs.Api_HostAddress}}/Events/Current
Accept: application/json
Authorization: {{apiKey}}

###

# ============================================================================
# TICKET VALIDATION ENDPOINTS
# ============================================================================

# Validate ticket - marks as used (burns ticket in Quentro API)
POST {{Carnavacs.Api_HostAddress}}/Ticket/Validate?code=38808543081136
Accept: application/json
Authorization: {{apiKey}}

###

# Verify ticket - read-only check (uses /check in Quentro API, doesn't burn ticket)
POST {{Carnavacs.Api_HostAddress}}/Ticket/Verify?code=20365568775030
Accept: application/json
Authorization: {{apiKey}}

###

# Verify ticket - with JWT Bearer token
POST {{Carnavacs.Api_HostAddress}}/Ticket/Verify?code=1032008419631
Accept: application/json
Authorization: Bearer {{jwtToken}}

###

# Verify ticket - production environment
POST {{prod}}/Ticket/Verify?code=41774648414531
Accept: application/json
Authorization: {{apiKey}}

###

# ============================================================================
# EVENTS ENDPOINTS
# ============================================================================

# Get all events
GET {{Carnavacs.Api_HostAddress}}/Events
Accept: application/json
Authorization: {{apiKey}}

###

# Get current event
GET {{Carnavacs.Api_HostAddress}}/Events/Current
Accept: application/json
Authorization: {{apiKey}}

###

# Get event stats
GET {{Carnavacs.Api_HostAddress}}/Events/Stats
Accept: application/json
Authorization: {{apiKey}}

###

# Get event stats by sector
GET {{Carnavacs.Api_HostAddress}}/Events/SectorStats
Accept: application/json
Authorization: {{apiKey}}

###

# Get event by ID
GET {{Carnavacs.Api_HostAddress}}/Events/1
Accept: application/json
Authorization: {{apiKey}}

###

# ============================================================================
# GATES ENDPOINTS
# ============================================================================

# Get all gates
GET {{Carnavacs.Api_HostAddress}}/Gates/Gates
Accept: application/json
Authorization: {{apiKey}}

###

# Get all devices
GET {{Carnavacs.Api_HostAddress}}/Gates/Devices
Accept: application/json
Authorization: {{apiKey}}

###

# Get gate by ID
GET {{Carnavacs.Api_HostAddress}}/Gates/1
Accept: application/json
Authorization: {{apiKey}}

###

# ============================================================================
# NFC ENDPOINTS
# ============================================================================

# Get NFC ticket file
GET {{Carnavacs.Api_HostAddress}}/NFC
Accept: application/octet-stream
Authorization: {{apiKey}}

###

# ============================================================================
# PRODUCTION ENVIRONMENT REQUESTS
# ============================================================================

# Production - Validate ticket
POST {{prod}}/Ticket/Validate?code=38808543081136
Accept: application/json
Authorization: {{apiKey}}

###

# Production - Get all events
GET {{prod}}/Events
Accept: application/json
Authorization: {{apiKey}}

###

# Production - Get current event
GET {{prod}}/Events/Current
Accept: application/json
Authorization: {{apiKey}}

###

# Production - Get event stats
GET {{prod}}/Events/Stats
Accept: application/json
Authorization: {{apiKey}}

###

# Production - Get all gates
GET {{prod}}/Gates/Gates
Accept: application/json
Authorization: {{apiKey}}

###

# Production - Get all devices
GET {{prod}}/Gates/Devices
Accept: application/json
Authorization: {{apiKey}}

###
